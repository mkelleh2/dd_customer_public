{
    "title": "APM Datadog Agent (Trace Agent)",
    "description": "APM Datadog Agent Overview",
    "widgets": [
        {
            "id": 7779376733615792,
            "definition": {
                "title": "",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 7212176473472180,
                        "definition": {
                            "type": "note",
                            "content": "APM Datadog Agent",
                            "background_color": "white",
                            "font_size": "36",
                            "text_align": "center",
                            "vertical_align": "center",
                            "show_tick": false,
                            "tick_pos": "50%",
                            "tick_edge": "left",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 6,
                            "height": 2
                        }
                    },
                    {
                        "id": 4005687356524528,
                        "definition": {
                            "type": "note",
                            "content": "Track the Datadog Agent's APM usage and performance, and troubleshoot issues. You can use this dashboard to monitor your APM infrastructure, and understand your trace load.",
                            "background_color": "transparent",
                            "font_size": "14",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": false,
                            "tick_pos": "50%",
                            "tick_edge": "left",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 2986007606796344,
                        "definition": {
                            "type": "note",
                            "content": "**Further reading:**\n- [Datadog Agent](https://docs.datadoghq.com/agent/)\n- [Configuring the Datadog Agent for APM](https://docs.datadoghq.com/tracing/trace_collection/dd_libraries/go?tab=containers)",
                            "background_color": "transparent",
                            "font_size": "14",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": false,
                            "tick_pos": "50%",
                            "tick_edge": "left",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 3,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 0,
                "y": 0,
                "width": 6,
                "height": 5
            }
        },
        {
            "id": 1860107519119426,
            "definition": {
                "title": "Overview",
                "background_color": "vivid_blue",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 1439526308290500,
                        "definition": {
                            "title": "Total Traces",
                            "type": "query_value",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.traces_received{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        },
                                        {
                                            "query": "sum:datadog.trace_agent.otlp.traces{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1 + query2"
                                        }
                                    ]
                                }
                            ],
                            "autoscale": true,
                            "precision": 2,
                            "timeseries_background": {
                                "type": "area",
                                "yaxis": {
                                    "include_zero": false
                                }
                            }
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 5278286608313330,
                        "definition": {
                            "title": "Total Spans",
                            "type": "query_value",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.spans_received{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        },
                                        {
                                            "query": "sum:datadog.trace_agent.otlp.spans{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1 + query2"
                                        }
                                    ]
                                }
                            ],
                            "autoscale": true,
                            "precision": 2,
                            "timeseries_background": {
                                "type": "area",
                                "yaxis": {
                                    "include_zero": false
                                }
                            }
                        },
                        "layout": {
                            "x": 3,
                            "y": 0,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 2214228728754004,
                        "definition": {
                            "title": "Total Events",
                            "type": "query_value",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.trace_writer.events{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ],
                            "autoscale": true,
                            "precision": 2,
                            "timeseries_background": {
                                "yaxis": {
                                    "include_zero": false
                                },
                                "type": "area"
                            }
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 6876775065853450,
                        "definition": {
                            "title": "Total Stats",
                            "type": "query_value",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.stats_writer.stats_entries{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ],
                            "autoscale": true,
                            "precision": 2,
                            "timeseries_background": {
                                "yaxis": {
                                    "include_zero": false
                                },
                                "type": "area"
                            }
                        },
                        "layout": {
                            "x": 3,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 6,
                "y": 0,
                "width": 6,
                "height": 5
            }
        },
        {
            "id": 6180181299776850,
            "definition": {
                "title": "Configuration",
                "background_color": "pink",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 7154448287821700,
                        "definition": {
                            "title": "Agent Version",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.heartbeat{*,*,*,*,*,$host,$env,$kube_cluster_name} by {version}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "classic"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 3,
                            "height": 3
                        }
                    },
                    {
                        "id": 2840477307258118,
                        "definition": {
                            "title": "Top Agent Versions",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.heartbeat{*,*,*,*,*,$host,$env,$kube_cluster_name} by {version}",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "datadog16"
                                    }
                                }
                            ],
                            "type": "sunburst",
                            "legend": {
                                "type": "inline"
                            }
                        },
                        "layout": {
                            "x": 3,
                            "y": 0,
                            "width": 2,
                            "height": 3
                        }
                    },
                    {
                        "id": 4837165763656578,
                        "definition": {
                            "title": "Bytes Received/s Per Lang",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.spans_received{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {lang_version,lang}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 0,
                            "y": 3,
                            "width": 3,
                            "height": 3
                        }
                    },
                    {
                        "id": 7216126382870784,
                        "definition": {
                            "title": "Top Languages+Versions",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.spans_received{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {lang,lang_version}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ],
                            "type": "sunburst",
                            "legend": {
                                "type": "inline"
                            }
                        },
                        "layout": {
                            "x": 3,
                            "y": 3,
                            "width": 2,
                            "height": 3
                        }
                    }
                ]
            },
            "layout": {
                "x": 0,
                "y": 0,
                "width": 5,
                "height": 8
            }
        },
        {
            "id": 4666755816373144,
            "definition": {
                "title": "Performance",
                "background_color": "vivid_purple",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 6900869285342270,
                        "definition": {
                            "title": "Max Heap Allocations",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.heap_alloc{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "purple",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 417828011473042,
                        "definition": {
                            "title": "Max Heap Allocations by Host",
                            "type": "query_table",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.heap_alloc{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {host}",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "max"
                                        }
                                    ],
                                    "sort": {
                                        "count": 25,
                                        "order_by": [
                                            {
                                                "type": "formula",
                                                "index": 0,
                                                "order": "desc"
                                            }
                                        ]
                                    },
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ]
                        },
                        "layout": {
                            "x": 4,
                            "y": 0,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 8409059144743450,
                        "definition": {
                            "title": "Max CPU Usage (percent)",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.cpu_percent{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query2"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "purple",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 3933085361138082,
                        "definition": {
                            "title": "Max CPU Usage (percent) by Host",
                            "type": "query_table",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.cpu_percent{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {host}",
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "aggregator": "max"
                                        }
                                    ],
                                    "sort": {
                                        "count": 25,
                                        "order_by": [
                                            {
                                                "type": "formula",
                                                "index": 0,
                                                "order": "desc"
                                            }
                                        ]
                                    },
                                    "formulas": [
                                        {
                                            "formula": "query2"
                                        }
                                    ]
                                }
                            ]
                        },
                        "layout": {
                            "x": 4,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 5,
                "y": 0,
                "width": 7,
                "height": 5
            }
        },
        {
            "id": 8877644542636668,
            "definition": {
                "title": "OTLP",
                "background_color": "vivid_orange",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 8779628132281062,
                        "definition": {
                            "type": "note",
                            "content": "[OTLP Ingestion](https://docs.datadoghq.com/opentelemetry/otlp_ingest_in_the_agent/?tab=host)\n\n[OpenTelemety Protocol](https://opentelemetry.io/docs/specs/otel/protocol/)\n\n[OpenTelemetry in Datadog](https://docs.datadoghq.com/opentelemetry/)",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 1,
                            "height": 2
                        }
                    },
                    {
                        "id": 3284635943897996,
                        "definition": {
                            "title": "Traces/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.otlp.traces{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "purple",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 1,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 5641451684765226,
                        "definition": {
                            "title": "Spans/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.otlp.spans{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "purple",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 3,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 6571194800565220,
                        "definition": {
                            "title": "Payloads/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.otlp.payload{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "purple",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 5,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 5,
                "y": 5,
                "width": 7,
                "height": 3
            }
        },
        {
            "id": 8821394364538402,
            "definition": {
                "title": "Traffic Received",
                "background_color": "green",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 3776614911372462,
                        "definition": {
                            "type": "note",
                            "content": "The `service` dimension is available in these widgets for Agent v7.53.0+\n",
                            "background_color": "white",
                            "font_size": "14",
                            "text_align": "left",
                            "vertical_align": "top",
                            "show_tick": false,
                            "tick_pos": "50%",
                            "tick_edge": "left",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 6,
                            "height": 1
                        }
                    },
                    {
                        "id": 3137675859906260,
                        "definition": {
                            "title": "Traces/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "style": {
                                                "palette": "green",
                                                "palette_index": 3
                                            },
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.trace{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {service}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "semantic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "area"
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 1,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 4296443157083866,
                        "definition": {
                            "title": "Spans/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "style": {
                                                "palette": "green",
                                                "palette_index": 3
                                            },
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.spans_received{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {service}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "semantic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "area"
                                }
                            ]
                        },
                        "layout": {
                            "x": 3,
                            "y": 1,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 4901862344099412,
                        "definition": {
                            "title": "Bytes/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.traces_bytes{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {service}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "area"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 0,
                            "y": 3,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 4198540310070012,
                        "definition": {
                            "title": "Payloads/s",
                            "show_legend": true,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "type": "timeseries",
                            "requests": [
                                {
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.receiver.payload_accepted{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {service}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "area"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 3,
                            "y": 3,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 8989888778906794,
                        "definition": {
                            "type": "note",
                            "content": "Spans dropped represents the difference between the number of spans received by the APM Agent that were *not* sent to Datadog.\n\nThis could be for valid reasons, such as sampling configurations, or due to errors.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 5,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 7855269996834886,
                        "definition": {
                            "title": "Spans dropped",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "per_minute((query1 + query2) - query3)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.spans_received{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        },
                                        {
                                            "query": "sum:datadog.trace_agent.otlp.spans{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query2"
                                        },
                                        {
                                            "query": "sum:datadog.trace_agent.trace_writer.spans{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query3"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 2,
                            "y": 5,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 5541892289433040,
                        "definition": {
                            "title": "TCP Connections",
                            "show_legend": true,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "type": "timeseries",
                            "requests": [
                                {
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.tcp_connections{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {status}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 7,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 6399905786733920,
                        "definition": {
                            "title": "Payloads Accepted & Refused",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "alias": "Accepted",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Refused",
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.payload_accepted{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        },
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.payload_refused{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query2"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 3,
                            "y": 7,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 5456863603384676,
                        "definition": {
                            "type": "note",
                            "content": "Traces can be filtered by the receiver if it fails to meet valid tag requirements, or if it matches the defined ignore resource rules. ",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 9,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 1185255105083980,
                        "definition": {
                            "title": "Traces filtered",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.traces_filtered{$host,$env,$version,$kube_cluster_name} by {service}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "area"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 2,
                            "y": 9,
                            "width": 4,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 0,
                "y": 0,
                "width": 6,
                "height": 12
            }
        },
        {
            "id": 5466391372643346,
            "definition": {
                "title": "Traffic Sent",
                "background_color": "vivid_green",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 768815820493892,
                        "definition": {
                            "title": "Traces/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "style": {
                                                "palette": "green",
                                                "palette_index": 3
                                            },
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.trace_writer.traces{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "semantic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 3236828794780326,
                        "definition": {
                            "title": "Spans/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "style": {
                                                "palette": "green",
                                                "palette_index": 3
                                            },
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.trace_writer.spans{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "semantic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 3,
                            "y": 0,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 317756941260404,
                        "definition": {
                            "title": "Bytes/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.trace_writer.bytes{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 2161277076823122,
                        "definition": {
                            "title": "Payloads/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.trace_writer.payloads{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 3,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 5330481616674484,
                        "definition": {
                            "title": "Connection fill (%)",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "alias": "Max",
                                            "formula": "query1 * 100"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.trace_writer.connection_fill.max{$host,*,*,*,*,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                },
                                {
                                    "formulas": [
                                        {
                                            "alias": "Avg",
                                            "formula": "query1 * 100"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "avg:datadog.trace_agent.trace_writer.connection_fill.avg{$host,*,*,*,*,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 4,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 486864608717402,
                        "definition": {
                            "title": "Queue fill (%)",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "alias": "Max",
                                            "formula": "query1 * 100"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.trace_writer.queue_fill.max{$host,*,*,*,*,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                },
                                {
                                    "formulas": [
                                        {
                                            "alias": "Avg",
                                            "formula": "query1 * 100"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "avg:datadog.trace_agent.trace_writer.queue_fill.avg{$host,*,*,*,*,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 3,
                            "y": 4,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 2109251108744564,
                        "definition": {
                            "type": "note",
                            "content": "Flush duration represents the time it took for the outbound HTTP request for a payload to finish.\n\nIf this is very high, that could be due to throttling or other network-related issues.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 6,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 8922802508538244,
                        "definition": {
                            "title": "Max flush duration",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "alias": "Max",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Avg",
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "max:datadog.trace_agent.trace_writer.flush_duration.max{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        },
                                        {
                                            "query": "avg:datadog.trace_agent.trace_writer.flush_duration.avg{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query2"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 2,
                            "y": 6,
                            "width": 4,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 6,
                "y": 0,
                "width": 6,
                "height": 9
            }
        },
        {
            "id": 5126761484713892,
            "definition": {
                "title": "Errors",
                "background_color": "vivid_pink",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 5491101821628722,
                        "definition": {
                            "type": "note",
                            "content": "Errors with the trace receiver are associated with communication failures between the Trace Agent and the Datadog Tracers, and could be due to malformed requests or payload limits.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 391795976313108,
                        "definition": {
                            "title": "Trace Receiver Errors",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.error{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {error}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "include_zero": true,
                                "scale": "linear",
                                "label": "",
                                "min": "auto",
                                "max": "auto"
                            }
                        },
                        "layout": {
                            "x": 2,
                            "y": 0,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 3603994792342338,
                        "definition": {
                            "type": "note",
                            "content": "Payloads can be rejected when writing traces from the Agent to Datadog. This could be due to network issues or payload limits.\n\nCheck your logs for lines starting with \"Trace writer\" to debug.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 6,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 6611121788148608,
                        "definition": {
                            "title": "Trace Writer Payload Rejected",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.trace_writer.errors{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 8,
                            "y": 0,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 6668665572770134,
                        "definition": {
                            "type": "note",
                            "content": "Payloads can be refused by the trace receiver due to rate limiting or invalid HTTP headers on the received payload.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 3484280034598834,
                        "definition": {
                            "title": "Payloads Refused by Receiver",
                            "type": "toplist",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.payload_refused{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {lang}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "sum"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "sort": {
                                        "count": 10,
                                        "order_by": [
                                            {
                                                "type": "formula",
                                                "index": 0,
                                                "order": "desc"
                                            }
                                        ]
                                    }
                                }
                            ]
                        },
                        "layout": {
                            "x": 2,
                            "y": 2,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 8516127993927120,
                        "definition": {
                            "type": "note",
                            "content": "Payloads can be dropped by the Agent for many reasons:\n\n- Payload is too large\n- Decoding error\n- Request timeout\n- (unexpected_eof) A client aborted or a bad payload was sent (i.e. shorter than claimed in Content-Length)\n- The trace contains no spans\n- A trace id or span id that is `0`\n- A span in a trace has a trace id that is different than the first span in the trace",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 6,
                            "y": 2,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 4199430829287240,
                        "definition": {
                            "title": "Payloads Dropped by Normalizer",
                            "type": "toplist",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.normalizer.traces_dropped{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {reason}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "sum"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "sort": {
                                        "count": 10,
                                        "order_by": [
                                            {
                                                "type": "formula",
                                                "index": 0,
                                                "order": "desc"
                                            }
                                        ]
                                    }
                                }
                            ]
                        },
                        "layout": {
                            "x": 8,
                            "y": 2,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 2563299078056640,
                        "definition": {
                            "type": "note",
                            "content": "OOM kills are an indicator that the trace-agent is overloaded. It either needs more resources, or needs tracers to send fewer spans to process.\n\nEnabling client-side stats can also help with this <TODO: add doc>\n\nSee the [Agent Resource Usage by APM docs](https://docs.datadoghq.com/tracing/troubleshooting/agent_apm_resource_usage) for more details.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 4,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 1217172609843114,
                        "definition": {
                            "title": "OOM kills",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "top(query1, 25, 'max', 'desc')"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.oom_kill{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {host}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 2,
                            "y": 4,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 5364710833593800,
                        "definition": {
                            "type": "note",
                            "content": "Kubernetes container restarts may be valid and expected, or can result from unrecoverable errors such as OOMs that crash the container.\n",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 6,
                            "y": 4,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 1761723418040190,
                        "definition": {
                            "title": "Kubernetes Container restarts",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "top(per_minute(query1), 25, 'max', 'desc')"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:kubernetes.containers.restarts{kube_container_name:trace-agent,$host,$env,$version,$kube_cluster_name} by {kube_cluster_name,kube_container_name}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 8,
                            "y": 4,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 4793647712790482,
                        "definition": {
                            "type": "note",
                            "content": "If an error occurs while flushing traces from the Agent to Datadog, then the payload may be retried. A high number of retries may be indicative of a network problem.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 6,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 3611589331502340,
                        "definition": {
                            "title": "Trace Writer Retries",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.trace_writer.retries{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "semantic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 2,
                            "y": 6,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 7715183343580430,
                        "definition": {
                            "type": "note",
                            "content": "If an error occurs while flushing stats from the Agent to Datadog, then the payload may be retried. A high number of retries may be indicative of a network problem.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 6,
                            "y": 6,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 6997527561489160,
                        "definition": {
                            "title": "Stats Writer Retries",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.stats_writer.retries{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "semantic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 8,
                            "y": 6,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 8928232752344494,
                        "definition": {
                            "type": "note",
                            "content": "Payloads can be rejected when writing stats from the Agent to Datadog. This could be due to network issues or payload limits.\nCheck your logs for lines starting with \"Stats writer\" to debug.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 8,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 895875464239606,
                        "definition": {
                            "title": "Stats Rejected",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.stats_writer.errors{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ]
                        },
                        "layout": {
                            "x": 2,
                            "y": 8,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 8475359240531580,
                        "definition": {
                            "type": "note",
                            "content": "Malformed spans may be dropped by the Agent, or if possible, will be normalized before being sent to Datadog.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 6,
                            "y": 8,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 6310031126867192,
                        "definition": {
                            "title": "Malformed spans",
                            "type": "toplist",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.normalizer.spans_malformed{*,*,*,*,*,$host,$env,$version,$kube_cluster_name} by {reason}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "sum"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "sort": {
                                        "count": 10,
                                        "order_by": [
                                            {
                                                "type": "formula",
                                                "index": 0,
                                                "order": "desc"
                                            }
                                        ]
                                    }
                                }
                            ]
                        },
                        "layout": {
                            "x": 8,
                            "y": 8,
                            "width": 4,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 0,
                "y": 25,
                "width": 12,
                "height": 11,
                "is_column_break": true
            }
        },
        {
            "id": 3335785432289878,
            "definition": {
                "title": "Kubernetes",
                "background_color": "vivid_blue",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 7421276350590676,
                        "definition": {
                            "title": "CPU Usage by Cluster",
                            "type": "treemap",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "max:kubernetes.cpu.usage.total{kube_container_name:trace-agent,$env,$version,$kube_cluster_name, $host} by {cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 8,
                            "height": 3
                        }
                    },
                    {
                        "id": 3631562459317518,
                        "definition": {
                            "title": "CPU Limit by Namespace",
                            "type": "query_table",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "max:kubernetes.cpu.limits{kube_container_name:trace-agent,$host,$env,$version,$kube_cluster_name} by {kube_namespace}",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "sort": {
                                        "count": 100,
                                        "order_by": [
                                            {
                                                "type": "formula",
                                                "index": 0,
                                                "order": "desc"
                                            }
                                        ]
                                    },
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ]
                        },
                        "layout": {
                            "x": 8,
                            "y": 0,
                            "width": 4,
                            "height": 3
                        }
                    },
                    {
                        "id": 5177846824800442,
                        "definition": {
                            "title": "Memory Usage by Cluster",
                            "type": "treemap",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "max:kubernetes.memory.usage{kube_container_name:trace-agent,$env,$version,$kube_cluster_name ,$host} by {cluster_name}",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 3,
                            "width": 8,
                            "height": 3
                        }
                    },
                    {
                        "id": 4395770033909798,
                        "definition": {
                            "title": "Memory Limit by Namespace",
                            "type": "query_table",
                            "requests": [
                                {
                                    "response_format": "scalar",
                                    "queries": [
                                        {
                                            "query": "max:kubernetes.memory.limits{kube_container_name:trace-agent,$host,$env,$version,$kube_cluster_name} by {kube_namespace}",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "aggregator": "avg"
                                        }
                                    ],
                                    "sort": {
                                        "count": 25,
                                        "order_by": [
                                            {
                                                "type": "formula",
                                                "index": 0,
                                                "order": "desc"
                                            }
                                        ]
                                    },
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ]
                                }
                            ]
                        },
                        "layout": {
                            "x": 8,
                            "y": 3,
                            "width": 4,
                            "height": 3
                        }
                    }
                ]
            },
            "layout": {
                "x": 0,
                "y": 36,
                "width": 12,
                "height": 7
            }
        },
        {
            "id": 6787631785253080,
            "definition": {
                "title": "Stats",
                "background_color": "yellow",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 5247188037022970,
                        "definition": {
                            "title": "Payloads/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.stats_writer.payloads{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 6915215726791886,
                        "definition": {
                            "title": "Bytes/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.stats_writer.bytes{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 3,
                            "y": 0,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 1896488742845064,
                        "definition": {
                            "title": "Entries/s",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.stats_writer.stats_entries{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    },
                    {
                        "id": 2513339992311432,
                        "definition": {
                            "title": "Total Stats Buckets",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.stats_writer.stats_buckets{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_count()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 3,
                            "y": 2,
                            "width": 3,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 0,
                "y": 0,
                "width": 6,
                "height": 5
            }
        },
        {
            "id": 4443101482689724,
            "definition": {
                "title": "Sampling",
                "background_color": "orange",
                "show_title": true,
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 2257801180782988,
                        "definition": {
                            "type": "note",
                            "content": "The effective sampling rate is calculated by taking the number of traces written to Datadog and dividing it by the total number of traces received.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 2876033633473772,
                        "definition": {
                            "title": "Effective Sampling Rate %",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "(query2 / (query1 + query4)) * 100"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "query": "sum:datadog.trace_agent.trace_writer.traces{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query2"
                                        },
                                        {
                                            "query": "sum:datadog.trace_agent.receiver.trace{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        },
                                        {
                                            "query": "sum:datadog.trace_agent.otlp.traces{*,*,*,*,*,$host,$env,$version,$kube_cluster_name}.as_rate()",
                                            "data_source": "metrics",
                                            "name": "query4"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 2,
                            "y": 0,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 7832168149635938,
                        "definition": {
                            "type": "note",
                            "content": "Trace sampling priority values:\n* None: No priority sampling decision could be found.\n* -1: Value set by a user to explicitly drop a trace. \n* 0: Value set by a tracer to suggest dropping a trace.\n* 1: Value set by a tracer to suggest keeping a trace.\n* 2: Value set by a user to explicitly keep a trace.\n",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "vertical_align": "center",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "right",
                            "has_padding": true
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 6710076143346796,
                        "definition": {
                            "title": "Trace Sampling Priorities",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "name": "query1",
                                            "data_source": "metrics",
                                            "query": "sum:datadog.trace_agent.receiver.traces_priority{$host,$env,$version,$kube_cluster_name} by {priority}.as_rate()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "palette": "dog_classic",
                                        "order_by": "values",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ]
                        },
                        "layout": {
                            "x": 2,
                            "y": 2,
                            "width": 4,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 6,
                "y": 0,
                "width": 6,
                "height": 5
            }
        }
    ],
    "template_variables": [
        {
            "name": "host",
            "prefix": "host",
            "available_values": [],
            "default": "*"
        },
        {
            "name": "env",
            "prefix": "env",
            "available_values": [],
            "default": "*"
        },
        {
            "name": "version",
            "prefix": "version",
            "available_values": [],
            "default": "*"
        },
        {
            "name": "kube_cluster_name",
            "prefix": "kube_cluster_name",
            "available_values": [],
            "default": "*"
        }
    ],
    "layout_type": "ordered",
    "notify_list": [],
    "reflow_type": "fixed"
}